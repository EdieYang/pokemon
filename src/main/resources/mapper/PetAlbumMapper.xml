<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.pokepet.dao.PetAlbumMapper">
  <resultMap id="BaseResultMap" type="com.pokepet.model.PetAlbum">

    <id column="album_id" jdbcType="VARCHAR" property="albumId" />
    <result column="photo_path" jdbcType="VARCHAR" property="photoPath" />
    <result column="user_id" jdbcType="VARCHAR" property="userId" />
    <result column="pet_id" jdbcType="VARCHAR" property="petId" />
    <result column="create_time" jdbcType="DATE" property="createTime" />
    <result column="del_flag" jdbcType="VARCHAR" property="delFlag" />
  </resultMap>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri May 25 15:31:10 CST 2018.
    -->
    album_id,photo_path,user_id,pet_id, create_time,del_flag
  </sql>

  <insert id="insertSelective" parameterType="com.pokepet.model.PetAlbum">
      INSERT  INTO pet_album(album_id,photo_path,user_id,pet_id,create_time,del_flag)
      VALUES (#{albumId},#{photoPath},#{userId},#{petId},NOW(),#{delFlag})

  </insert>

  <select id="selectAlbumByPetId" parameterType="java.lang.String" resultType="com.pokepet.model.PetAlbum">

      SELECT album_id as albumId,photo_path as photoPath,user_id as userId,
      pet_id as petId, DATE_FORMAT(create_time,'%Y-%m-%d') as createTime,del_flag as delFlag
      FROM pet_album
      WHERE pet_id=#{petId}
      AND del_flag='0'
      ORDER BY create_time DESC

  </select>





</mapper>